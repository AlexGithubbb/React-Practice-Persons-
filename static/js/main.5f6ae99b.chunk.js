(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,n,t){e.exports={App:"App_App__2S09a"}},12:function(e,n,t){e.exports={Person:"Person_Person__2XDAI"}},14:function(e,n,t){e.exports=t(25)},20:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(10),s=t.n(a),c=(t(20),t(8)),i=t(13),l=t(1),u=t(2),p=t(4),h=t(3),d=t(5),f=t(11),g=t.n(f),m=t(12),k=t.n(m),v=function(e){return e.children},w=function(e,n){return function(t){return r.a.createElement("div",{className:n},r.a.createElement(e,t))}},j=w(function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(p.a)(this,Object(h.a)(n).call(this,e))).inputElementRef=r.a.createRef(),t}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.inputElementRef.current.focus()}},{key:"render",value:function(){var e=this.props,n=e.name,t=e.age,o=e.children,a=e.click,s=e.change,c=e.isAuthenticated;return console.log("[Person.js] rendering..."),r.a.createElement(v,null,c?r.a.createElement("p",null,"Authenticated!"):r.a.createElement("p",null,"Please Login "),r.a.createElement("p",{onClick:a},"I'm a ",n," and I'm ",t," years old"),r.a.createElement("p",null,o),r.a.createElement("input",{key:"i3",type:"text",onChange:s,value:n,ref:this.inputElementRef}))}}]),n}(o.Component),k.a.Person),b=function(e){function n(){return Object(l.a)(this,n),Object(p.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(u.a)(n,[{key:"getSnapshotBeforeUpdate",value:function(e,n){return console.log("[Persons.js] getSnapshotBeforeUpdate"),{message:"this is snapshot message"}}},{key:"componentDidUpdate",value:function(e,n,t){console.log("[Persons.js] componentDidUpdate"),console.log(t)}},{key:"render",value:function(){var e=this;return console.log("[Persons.js] rendering..."),this.props.persons.map(function(n,t){return r.a.createElement(j,{key:n.id,click:function(){return e.props.click(t)},name:n.name,age:n.age,change:function(t){return e.props.change(t,n.id)},isAuthenticated:e.props.isAuth})})}}]),n}(o.PureComponent),E=t(6),C=t.n(E),P=r.a.memo(function(e){var n=Object(o.useRef)(null);Object(o.useEffect)(function(){return console.log("[Cockpit.js] useEffect"),n.current.click(),function(){console.log("[Cokpit.js] clearnUp work in useEffect")}},[]),Object(o.useEffect)(function(){return console.log("[Cockpit.js] 2nd useEffect"),function(){console.log("[Cokpit.js] 2nd clearnUp work in useEffect")}});var t="";e.showPersons&&(t=C.a.red);var a=[];return e.personsLength<=2&&a.push(C.a.red),e.personsLength<=1&&a.push(C.a.bold),r.a.createElement("div",{className:C.a.Cockpit},r.a.createElement("h1",null,e.title),r.a.createElement("p",{className:a.join(" ")},"This is really working!"),r.a.createElement("button",{ref:n,className:t,onClick:e.click},"Toggle persons"),r.a.createElement("button",{onClick:e.auth},"log in"))}),A=w(function(e){function n(){var e;return Object(l.a)(this,n),(e=Object(p.a)(this,Object(h.a)(n).call(this))).state={persons:[{id:"1",name:"Yisheng",age:19},{id:"2",name:"Bowei",age:25},{id:"3",name:"Andrew",age:44}],oterState:"this is another state",showPersons:!1,showCockpit:!0,currentCounter:0,isAuthenticated:!1},e.switchNameHandler=function(n){e.setState({persons:[{id:"1",name:n,age:19},{id:"2",name:"Bowei",age:25},{id:"3",name:"Jennifer",age:44}]})},e.changeNameHandler=function(n,t){var o=e.state.persons.findIndex(function(e){return e.id===t}),r=Object(i.a)({},e.state.persons[o]);r.name=n.target.value;var a=Object(c.a)(e.state.persons);a[o]=r,e.setState(function(e,n){return{persons:a,currentCounter:e.currentCounter+1}})},e.togglePersonHandler=function(){var n=e.state.showPersons;e.setState({showPersons:!n})},e.deletePersonHandler=function(n){var t=Object(c.a)(e.state.persons);t.splice(n,1),e.setState({persons:t})},e.checkAuthentication=function(){e.setState({isAuthenticated:!0})},console.log("[App.js] contructor"),e}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("[App.js] componentDidMount")}},{key:"shouldComponentUpdate",value:function(e,n){return console.log("[App.js] shouldComponentUpdate"),!0}},{key:"componentDidUpdate",value:function(){console.log("[App.js] componentDidUpdate")}},{key:"render",value:function(){var e=this;console.log("[App.js] rendering...");var n=null;return this.state.showPersons&&(n=r.a.createElement(b,{persons:this.state.persons,click:this.deletePersonHandler,change:this.changeNameHandler,isAuth:this.state.isAuthenticated})),r.a.createElement(v,null,r.a.createElement("button",{onClick:function(){e.setState({showCockpit:!1})}},"Clean up Cockpit"),this.state.showCockpit?r.a.createElement(P,{title:this.props.mainTitle,click:this.togglePersonHandler,personsLength:this.state.persons.length,showPersons:this.state.showPersons,auth:this.checkAuthentication}):null,n)}}],[{key:"getDerivedStateFromProps",value:function(e,n){return console.log("[App.js] getDrviedStateFromProps",e),n}}]),n}(o.Component),g.a.App),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(A,{mainTitle:"Welcome to React World"}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/React-Practice-Persons-",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/React-Practice-Persons-","/service-worker.js");O?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):y(e)})}}()},6:function(e,n,t){e.exports={red:"Cockpit_red__317DD",green:"Cockpit_green__32rhX",bold:"Cockpit_bold__2pEjN",Cockpit:"Cockpit_Cockpit__TzG6M"}}},[[14,2,1]]]);
//# sourceMappingURL=main.5f6ae99b.chunk.js.map